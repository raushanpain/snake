<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Snake Game</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        background: linear-gradient(to right, #000000, #1a1a1a);
        color: white;
        font-family: "Segoe UI", sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        overflow: hidden;
      }

      canvas {
        border: 4px solid #00ff66;
        background-color: #111;
        box-shadow: 0 0 25px #00ff66, 0 0 40px #00ff66 inset;
      }

      h1 {
        position: absolute;
        top: 30px;
        font-size: 28px;
        text-align: center;
        width: 100%;
        color: #00ff66;
        text-shadow: 0 0 10px #00ff66;
      }
    </style>
  </head>
  <body>
    <h1>üêç Snake Game</h1>
    <canvas id="gameCanvas" width="600" height="600"></canvas>

    <script>
      const canvas = document.getElementById("gameCanvas");
      const ctx = canvas.getContext("2d");

      const unitSize = 25;
      const rows = canvas.height / unitSize;
      const cols = canvas.width / unitSize;

      let snake = [{ x: unitSize * 4, y: unitSize * 4 }];
      let direction = "RIGHT";
      let apple = randomApple();
      let score = 0;
      let gameInterval;

      document.addEventListener("keydown", changeDirection);

      function drawGame() {
        clearCanvas();
        drawGrid();
        drawApple();
        moveSnake();
        drawSnake();
        checkCollision();
      }

      function clearCanvas() {
        ctx.fillStyle = "#111";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
      }

      function drawGrid() {
        ctx.strokeStyle = "#222";
        for (let i = 0; i < rows; i++) {
          ctx.beginPath();
          ctx.moveTo(0, i * unitSize);
          ctx.lineTo(canvas.width, i * unitSize);
          ctx.stroke();
          ctx.beginPath();
          ctx.moveTo(i * unitSize, 0);
          ctx.lineTo(i * unitSize, canvas.height);
          ctx.stroke();
        }
      }

      function drawSnake() {
        for (let i = 0; i < snake.length; i++) {
          ctx.fillStyle = i === 0 ? "#00ff66" : "#33ff99";
          ctx.shadowColor = "#00ff66";
          ctx.shadowBlur = 10;
          ctx.fillRect(snake[i].x, snake[i].y, unitSize, unitSize);
        }
      }

      function moveSnake() {
        const head = { ...snake[0] };

        switch (direction) {
          case "UP":
            head.y -= unitSize;
            break;
          case "DOWN":
            head.y += unitSize;
            break;
          case "LEFT":
            head.x -= unitSize;
            break;
          case "RIGHT":
            head.x += unitSize;
            break;
        }

        snake.unshift(head);

        if (head.x === apple.x && head.y === apple.y) {
          apple = randomApple();
          score++;
        } else {
          snake.pop();
        }
      }

      function drawApple() {
        ctx.fillStyle = "#ff3333";
        ctx.beginPath();
        ctx.arc(
          apple.x + unitSize / 2,
          apple.y + unitSize / 2,
          unitSize / 2,
          0,
          2 * Math.PI
        );
        ctx.fill();
        ctx.shadowBlur = 0;
      }

      function changeDirection(e) {
        const key = e.key;
        if (key === "ArrowUp" && direction !== "DOWN") direction = "UP";
        else if (key === "ArrowDown" && direction !== "UP") direction = "DOWN";
        else if (key === "ArrowLeft" && direction !== "RIGHT")
          direction = "LEFT";
        else if (key === "ArrowRight" && direction !== "LEFT")
          direction = "RIGHT";
      }

      function randomApple() {
        return {
          x: Math.floor(Math.random() * cols) * unitSize,
          y: Math.floor(Math.random() * rows) * unitSize,
        };
      }

      function checkCollision() {
        const head = snake[0];

        if (
          head.x < 0 ||
          head.x >= canvas.width ||
          head.y < 0 ||
          head.y >= canvas.height
        )
          gameOver();

        for (let i = 1; i < snake.length; i++) {
          if (head.x === snake[i].x && head.y === snake[i].y) {
            gameOver();
            break;
          }
        }
      }

      function gameOver() {
        clearInterval(gameInterval);
        ctx.fillStyle = "#ffffff";
        ctx.font = "40px Arial";
        ctx.fillText(
          "Game Over",
          canvas.width / 2 - 110,
          canvas.height / 2 - 10
        );
        ctx.font = "24px Arial";
        ctx.fillText(
          "Score: " + score,
          canvas.width / 2 - 50,
          canvas.height / 2 + 30
        );
      }

      // Start the game loop
      gameInterval = setInterval(drawGame, 100);
    </script>
  </body>
</html>
